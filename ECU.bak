EESchema Schematic File Version 2
LIBS:FS FINAL
LIBS:CONN_B2B
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:FormulaSlug
LIBS:FS FINAL-cache
EELAYER 25 0
EELAYER END
$Descr USLetter 11000 8500
encoding utf-8
Sheet 2 11
Title "ECU"
Date "2016-04-01"
Rev "0.9"
Comp "Formula Slug - UCSC EV R&D"
Comment1 "University of California Santa Cruz"
Comment2 "Thimann Laboratories 372"
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Teensy_3.2 U204
U 1 1 56D6577D
P 1900 4950
F 0 "U204" H 1750 4950 60  0000 C CNN
F 1 "Teensy_3.2" H 1850 4850 60  0000 C CNN
F 2 "" H 1750 4950 60  0001 C CNN
F 3 "" H 1750 4950 60  0000 C CNN
	1    1900 4950
	0    1    1    0   
$EndComp
Text HLabel 1400 6600 0    60   Input ~ 0
USB_VIN
Text HLabel 1400 6900 0    60   Input ~ 0
USB_GND
Text HLabel 1400 6700 0    60   Input ~ 0
USB_D+
Text HLabel 1400 6800 0    60   Input ~ 0
USB_D-
Text HLabel 1400 4300 0    60   Input ~ 0
GND
Text HLabel 2400 4400 2    60   Input ~ 0
GND
Text HLabel 2400 4300 2    60   Input ~ 0
5V
Text HLabel 1250 1000 0    60   Input ~ 0
12V
$Comp
L PQ05RR12 U201
U 1 1 56FE848D
P 1750 1200
F 0 "U201" H 1750 1200 60  0000 C CNN
F 1 "PQ05RR12" H 1750 1300 60  0000 C CNN
F 2 "" H 1750 1200 60  0001 C CNN
F 3 "" H 1750 1200 60  0000 C CNN
	1    1750 1200
	1    0    0    -1  
$EndComp
Text HLabel 1150 1700 0    60   Input ~ 0
GND
$Comp
L C C201
U 1 1 56FE983E
P 2450 1350
F 0 "C201" H 2475 1450 50  0000 L CNN
F 1 ".47uF" H 2475 1250 50  0000 L CNN
F 2 "" H 2488 1200 30  0001 C CNN
F 3 "" H 2450 1350 60  0000 C CNN
	1    2450 1350
	1    0    0    -1  
$EndComp
$Comp
L CP C202
U 1 1 56FE98C7
P 2850 1350
F 0 "C202" H 2875 1450 50  0000 L CNN
F 1 "10uF" H 2875 1250 50  0000 L CNN
F 2 "" H 2888 1200 30  0001 C CNN
F 3 "" H 2850 1350 60  0000 C CNN
	1    2850 1350
	1    0    0    -1  
$EndComp
$Comp
L ISO1050 U203
U 1 1 56FE9A33
P 2400 2900
F 0 "U203" H 2650 2900 60  0000 C CNN
F 1 "ISO1050" H 2350 2900 60  0000 C CNN
F 2 "" H 2350 2900 60  0001 C CNN
F 3 "" H 2350 2900 60  0000 C CNN
	1    2400 2900
	-1   0    0    -1  
$EndComp
Text HLabel 7600 1450 2    60   Output ~ 0
BATT_V
Text HLabel 7400 1450 0    60   Input ~ 0
BATT_V
$Comp
L SN754410 H201
U 1 1 5705AE6B
P 5000 5100
F 0 "H201" H 5000 5150 60  0000 C CNN
F 1 "SN754410" H 5000 5050 60  0000 C CNN
F 2 "" H 5200 4500 60  0001 C CNN
F 3 "" H 5200 4500 60  0000 C CNN
	1    5000 5100
	1    0    0    -1  
$EndComp
Text HLabel 5100 4500 2    60   Input ~ 0
12V
Text HLabel 5600 4800 2    60   Output ~ 0
BRAKE_LIGHT
Text HLabel 5000 5700 0    60   Input ~ 0
GND
Text HLabel 3050 1000 2    60   Output ~ 0
5V
Text HLabel 4900 4500 0    60   Input ~ 0
5V
Text HLabel 7600 1650 2    60   Output ~ 0
12V
Text HLabel 7400 1650 0    60   Input ~ 0
12V
Text HLabel 1200 3400 0    60   Input ~ 0
GND
Text HLabel 1200 2400 0    60   Input ~ 0
5V
Text HLabel 1800 2700 0    60   BiDi ~ 0
CAN_H
Text HLabel 1800 3100 0    60   BiDi ~ 0
CAN_L
Text HLabel 7600 800  2    60   Output ~ 0
AIRS_OUT_P
Text HLabel 7400 800  0    60   Input ~ 0
AIRS_IN_D
Text HLabel 7400 1000 0    60   Input ~ 0
AIRS_IN_P
Text HLabel 7600 1000 2    60   Output ~ 0
AIRS_OUT_B
Text HLabel 7600 1200 2    60   Output ~ 0
AIRS_DISCHARGE
Text HLabel 7400 1200 0    60   Input ~ 0
AIRS_DISCHARGE
Text HLabel 7600 1850 2    60   Output ~ 0
CUR_SIG
Text HLabel 7400 1850 0    60   Input ~ 0
CUR_SIG
Text HLabel 4400 5000 0    60   Input ~ 0
BMS_FLT
Text HLabel 4400 5100 0    60   Input ~ 0
IMD_FLT
$Comp
L R R201
U 1 1 571FFF78
P 6050 5000
F 0 "R201" V 6130 5000 50  0000 C CNN
F 1 "470R" V 6050 5000 50  0000 C CNN
F 2 "" V 5980 5000 30  0001 C CNN
F 3 "" H 6050 5000 30  0000 C CNN
	1    6050 5000
	0    1    1    0   
$EndComp
$Comp
L R R202
U 1 1 571FFF7F
P 6050 5200
F 0 "R202" V 6130 5200 50  0000 C CNN
F 1 "470R" V 6050 5200 50  0000 C CNN
F 2 "" V 5980 5200 30  0001 C CNN
F 3 "" H 6050 5200 30  0000 C CNN
	1    6050 5200
	0    1    1    0   
$EndComp
Text HLabel 6200 5000 2    60   Output ~ 0
BMS_LED
Text HLabel 6200 5200 2    60   Output ~ 0
IMD_LED
$Comp
L PQ3RD13 U202
U 1 1 572085D7
P 4050 1200
F 0 "U202" H 4050 1200 60  0000 C CNN
F 1 "PQ3RD13" H 4050 1300 60  0000 C CNN
F 2 "" H 4050 1200 60  0001 C CNN
F 3 "" H 4050 1200 60  0000 C CNN
	1    4050 1200
	1    0    0    -1  
$EndComp
Text HLabel 3550 1000 0    60   Input ~ 0
5V
Text HLabel 5350 1000 2    60   Output ~ 0
3.3V
Text HLabel 5600 4900 2    60   Output ~ 0
RTDS
Text HLabel 2400 4600 2    60   Input ~ 0
DRIVE
Text HLabel 2400 4700 2    60   Input ~ 0
NEUTRAL
Text Notes 2650 750  0    60   ~ 0
ECU - Power Regulation
Text HLabel 3200 2400 2    60   Input ~ 0
3.3V
$Comp
L C C205
U 1 1 5722DECB
P 1200 3250
F 0 "C205" H 1225 3350 50  0000 L CNN
F 1 ".47uF" H 1225 3150 50  0000 L CNN
F 2 "" H 1238 3100 30  0001 C CNN
F 3 "" H 1200 3250 60  0000 C CNN
	1    1200 3250
	1    0    0    -1  
$EndComp
Text Label 3000 2700 0    60   ~ 0
RX
Text Label 3000 3100 0    60   ~ 0
TX
$Comp
L C C206
U 1 1 5722E25A
P 3200 3250
F 0 "C206" H 3225 3350 50  0000 L CNN
F 1 ".47uF" H 3225 3150 50  0000 L CNN
F 2 "" H 3238 3100 30  0001 C CNN
F 3 "" H 3200 3250 60  0000 C CNN
	1    3200 3250
	1    0    0    -1  
$EndComp
Text Label 1350 4750 2    60   ~ 0
TX
Text Label 1350 4850 2    60   ~ 0
RX
Text HLabel 4400 5300 0    60   Input ~ 0
5V
Text HLabel 2400 5600 2    60   Input ~ 0
TORQUE_A_SIG
Text HLabel 2400 5500 2    60   Input ~ 0
TORQUE_B_SIG
Text HLabel 2400 5400 2    60   Input ~ 0
BRAKE_SIG
Text Notes 1650 2150 0    60   ~ 0
ECU - CAN Tranceiver
Text Notes 1450 3950 0    60   ~ 0
ECU - Microcontroller
Text Notes 4400 4250 0    60   ~ 0
ECU - LED and Piezo power stage
$Comp
L SPEAKER SP?
U 1 1 5716A9D9
P 8700 5150
F 0 "SP?" H 8600 5400 50  0000 C CNN
F 1 "Piezo" H 8600 4900 50  0000 C CNN
F 2 "" H 8700 5150 60  0001 C CNN
F 3 "" H 8700 5150 60  0000 C CNN
	1    8700 5150
	1    0    0    -1  
$EndComp
Text HLabel 7800 5000 0    60   Input ~ 0
RTDS
Text HLabel 7800 5300 0    60   Input ~ 0
GND
Text Notes 7800 4250 0    60   ~ 0
Ready To Drive Sound
$Comp
L D_Schottky D?
U 1 1 5716B073
P 8100 5150
F 0 "D?" H 8100 5250 50  0000 C CNN
F 1 "D_Schottky" V 8350 5150 50  0000 C CNN
F 2 "" H 8100 5150 60  0000 C CNN
F 3 "" H 8100 5150 60  0000 C CNN
	1    8100 5150
	0    1    1    0   
$EndComp
Connection ~ 8100 5300
Wire Wire Line
	7800 5300 8400 5300
Connection ~ 8100 5000
Wire Wire Line
	7800 5000 8400 5000
Wire Notes Line
	7300 6000 7300 4300
Wire Notes Line
	9300 6000 7300 6000
Wire Notes Line
	9300 4300 9300 6000
Wire Notes Line
	7300 4300 9300 4300
Wire Notes Line
	6900 5900 6900 4300
Wire Notes Line
	3700 5900 6900 5900
Wire Notes Line
	3700 4300 3700 5900
Wire Notes Line
	6900 4300 3700 4300
Wire Notes Line
	3300 4000 800  4000
Wire Notes Line
	3300 7600 3300 4000
Wire Notes Line
	800  7600 3300 7600
Wire Notes Line
	800  4000 800  7600
Wire Notes Line
	800  3600 3600 3600
Wire Notes Line
	800  2200 800  3600
Wire Notes Line
	3600 2200 800  2200
Wire Notes Line
	3600 3600 3600 2200
Wire Wire Line
	4400 5300 4400 5400
Wire Wire Line
	5900 5100 5900 5200
Wire Wire Line
	5600 5100 5900 5100
Wire Wire Line
	5600 5000 5900 5000
Connection ~ 5200 5700
Connection ~ 5100 5700
Wire Wire Line
	5000 5700 5300 5700
Wire Wire Line
	4400 4900 2400 4900
Wire Wire Line
	4400 4800 2400 4800
Wire Wire Line
	1350 4850 1400 4800
Wire Wire Line
	1350 4750 1400 4700
Wire Wire Line
	3200 2400 2500 2400
Wire Wire Line
	3200 3100 3200 2400
Connection ~ 2500 3400
Connection ~ 2300 3400
Wire Wire Line
	1200 3400 3200 3400
Wire Wire Line
	1200 2400 1200 3100
Wire Wire Line
	2300 2400 1200 2400
Wire Notes Line
	800  1800 5700 1800
Wire Notes Line
	800  800  800  1800
Wire Notes Line
	5700 800  800  800 
Wire Notes Line
	5700 1800 5700 800 
Connection ~ 4050 1700
Connection ~ 5150 1700
Connection ~ 5150 1000
Connection ~ 4750 1700
Wire Wire Line
	5150 1700 5150 1500
Wire Wire Line
	4750 1700 4750 1500
Connection ~ 4750 1000
Wire Wire Line
	5150 1000 5150 1200
Wire Wire Line
	4750 1000 4750 1200
Wire Wire Line
	4550 1000 5350 1000
Connection ~ 2850 1700
Wire Wire Line
	7400 1850 7600 1850
Wire Wire Line
	7400 1200 7600 1200
Wire Wire Line
	7400 1000 7600 1000
Wire Wire Line
	7400 800  7600 800 
Wire Wire Line
	7400 1650 7600 1650
Connection ~ 2850 1000
Connection ~ 2450 1700
Wire Wire Line
	2850 1700 2850 1500
Connection ~ 1750 1700
Wire Wire Line
	2450 1700 2450 1500
Connection ~ 2450 1000
Wire Wire Line
	2850 1000 2850 1200
Wire Wire Line
	2450 1000 2450 1200
Wire Wire Line
	2250 1000 3050 1000
Wire Wire Line
	1150 1700 5150 1700
$Comp
L F_Small F?
U 1 1 571B3E62
P 7500 1450
F 0 "F?" H 7500 1500 50  0000 C CNN
F 1 "LV_Fuse" H 7500 1350 50  0000 C CNN
F 2 "" H 7500 1450 60  0000 C CNN
F 3 "" H 7500 1450 60  0000 C CNN
	1    7500 1450
	1    0    0    -1  
$EndComp
NoConn ~ 3550 1400
NoConn ~ 1250 1400
$Comp
L C C?
U 1 1 571ED505
P 4750 1350
F 0 "C?" H 4775 1450 50  0000 L CNN
F 1 ".47uF" H 4775 1250 50  0000 L CNN
F 2 "" H 4788 1200 30  0001 C CNN
F 3 "" H 4750 1350 60  0000 C CNN
	1    4750 1350
	1    0    0    -1  
$EndComp
$Comp
L CP C?
U 1 1 571ED50B
P 5150 1350
F 0 "C?" H 5175 1450 50  0000 L CNN
F 1 "10uF" H 5175 1250 50  0000 L CNN
F 2 "" H 5188 1200 30  0001 C CNN
F 3 "" H 5150 1350 60  0000 C CNN
	1    5150 1350
	1    0    0    -1  
$EndComp
Wire Wire Line
	8400 5000 8400 5050
Wire Wire Line
	8400 5300 8400 5250
$EndSCHEMATC
